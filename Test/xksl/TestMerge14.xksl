shader ShaderBase
{
	stage stream int streamBase: STREAMBASE;
	
	struct sBase1
	{
		int i;
	};
	
	struct sBase2
	{
		int i;
	};
	
	void ComputeBase(sBase1 s1, sBase2 s2)
	{
		streams.streamBase = s1.i + s2.i;
	}
}

shader ShaderA: ShaderBase
{
	stage stream int streamA: STREAMA;
	
	struct sShaderA
	{
		int i;
	};
	
	void Compute(sShaderA s)
	{
		sBase1 sb1 = {s.i};
		sBase2 sb2 = {s.i};
		ComputeBase(sb1, sb2);
		
		streams.streamA = 1;
	}
	
	void VSMain()
	{
		sShaderA s = {1};
		Compute(s);
	}
}
