shader ShaderComp
{
	float varG1;
	stage float varG2;
	stage float varUnusedC0;
	float varUnusedC1;
	
	stage cbuffer PerDraw
	{
		float varDraw1;
		float varDraw2;
	}
	
	cbuffer PerDraw
	{
		float varDraw3;
	}
	
	cbuffer PerToto
	{
		float varCompToto;
	}
	
	float Compute()
	{
		return varDraw1 + varDraw3 + varG1 + varG2 + varCompToto;
	}
}

shader ShaderA
{
	compose ShaderComp colorA;
	compose ShaderComp colorB;
	
	float varG1;
	stage float varG2;
	float varUnused1;
	
	cbuffer PerDraw
	{
		float varDrawA;
		float varDraw3;
	}
	
	stage cbuffer PerToto
	{
		float varToto;
	}
	
	float VSmain()
	{
		return varToto + colorA.Compute() + varG1;
	}
	
	float PSmain()
	{
		return varDrawA + colorB.Compute() + varG2;
	}
}
