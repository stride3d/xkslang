
//Test reflection when using resources
shader ShaderMain
{
	rgroup ResourceGroup
	{
		SamplerState Sampler0;
		Texture2D Texture0;
	}
	
	stage stream float4 aStream: ASTREAM;
	stage stream float4 ColorTarget : SV_Target0;
	
	stage void VSMain()
	{
		streams.aStream = Texture0.SampleLevel(Sampler0, float2(0.4, 0.4), 0);
		
		/// Crash on Xenko: error X4532: cannot map expression to vs_5_0 instruction set
		//streams.aStream = Texture0.Sample(Sampler0, float2(0.5, 0.5));
	}
	
	stage void PSMain()
	{
		streams.ColorTarget = Texture0.Sample(Sampler0, float2(0.5, 0.5)) + streams.aStream;
	}
};