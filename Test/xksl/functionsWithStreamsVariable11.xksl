shader IShaderCompose
{
	void Compute()
	{
	}
}

shader TestShaderBase
{
	stage stream float3 sBase: SBASE;

	void Compute(Streams s)
	{
		s.sBase = 2;
	}
}

shader TestShaderMain: TestShaderBase
{
	stage stream float3 sMain: SMAIN;

	compose IShaderCompose blends[];
	
	override void Compute(Streams s)
	{
		s.sMain = 1;
		base.Compute(s);
		
		var backup = streams;
		foreach(var blendStep in blends)
		{
			//blendStep.Compute(backup);
		}
	}
	
	void VSMain()
	{
		Compute(streams);
	}
}
