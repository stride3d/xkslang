// Module Version 10000
// Generated by (magic number): 80001
// Id's are bound by 130

                              Capability Shader
                              EntryPoint Fragment 71  "PSMain" 105 106 107 108
                              ExecutionMode 71 OriginUpperLeft
                              MemoryModel Logical GLSL450
               1:             ExtInstImport  "GLSL.std.450"
                              Name 105  "PS_IN_meshNormal"
                              Name 106  "PS_IN_meshTangent"
                              Name 107  "PS_IN_ShadingPosition"
                              Decorate 105(PS_IN_meshNormal) Location 0
                              Decorate 106(PS_IN_meshTangent) Location 1
                              Decorate 107(PS_IN_ShadingPosition) Location 2
                              SemanticName 105(PS_IN_meshNormal)  "NORMAL"
                              SemanticName 106(PS_IN_meshTangent)  "TANGENT"
                              SemanticName 107(PS_IN_ShadingPosition)  "SV_Position"
                              Name 108  "PS_OUT_tangentToWorld"
                              Decorate 108(PS_OUT_tangentToWorld) Location 0
                              SemanticName 108(PS_OUT_tangentToWorld)  ""
                              Name 109  "PS_STREAMS"
                              MemberName 109(PS_STREAMS) 0  "meshNormal_id0"
                              MemberName 109(PS_STREAMS) 1  "meshTangent_id1"
                              MemberName 109(PS_STREAMS) 2  "tangentToWorld_id2"
                              MemberName 109(PS_STREAMS) 3  "ShadingPosition_id3"
                              Name 112  "_streams"
                              Name 122  "_streams"
                              Name 124  "_streams"
                              Name 126  "_streams"
                              Name 2  "NormalFromNormalMapping_GenerateNormal_PS("
                              Name 6  "NormalFromNormalMapping_GetTangentWorldTransform("
                              Name 71  "NormalBase_PSMain("
                              Name 75  "NormalBase_GenerateNormal_PS("
                              Name 23  "NormalStream_GetTangentMatrix("
                              Name 61  "NormalStream_UpdateTangentToWorld("
                              Name 77  "ShaderBase_PSMain("
                              Name 25  "tangent"
                              Name 26  "bitangent"
                              Name 27  "tangentMatrix"
                              Name 63  "tangentMatrix"
                              Name 64  "tangentWorldTransform"
                              Name 127  "PerDraw"
                              Decorate 127(PerDraw) Block
                              Name 129  "PerDraw_var"
                              MemberName 127(PerDraw) 0  "Transformation_WorldInverse"
                              MemberName 127(PerDraw) 1  "Transformation_WorldInverseTranspose"
                              MemberName 127(PerDraw) 2  "Transformation_WorldView"
                              MemberName 127(PerDraw) 3  "Transformation_WorldViewInverse"
                              MemberName 127(PerDraw) 4  "Transformation_WorldViewProjection"
                              MemberName 127(PerDraw) 5  "Transformation_WorldScale"
                              MemberName 127(PerDraw) 6  "Transformation_EyeMS"
                              MemberDecorate 127(PerDraw) 0 Offset 0
                              MemberDecorate 127(PerDraw) 0 RowMajor
                              MemberDecorate 127(PerDraw) 0 MatrixStride 16
                              MemberDecorate 127(PerDraw) 1 Offset 64
                              MemberDecorate 127(PerDraw) 1 RowMajor
                              MemberDecorate 127(PerDraw) 1 MatrixStride 16
                              MemberDecorate 127(PerDraw) 2 Offset 128
                              MemberDecorate 127(PerDraw) 2 RowMajor
                              MemberDecorate 127(PerDraw) 2 MatrixStride 16
                              MemberDecorate 127(PerDraw) 3 Offset 192
                              MemberDecorate 127(PerDraw) 3 RowMajor
                              MemberDecorate 127(PerDraw) 3 MatrixStride 16
                              MemberDecorate 127(PerDraw) 4 Offset 256
                              MemberDecorate 127(PerDraw) 4 RowMajor
                              MemberDecorate 127(PerDraw) 4 MatrixStride 16
                              MemberDecorate 127(PerDraw) 5 Offset 320
                              MemberDecorate 127(PerDraw) 6 Offset 336
              79:             TypeVoid
              80:             TypeFunction 79
              81:             TypeFloat 32
              82:             TypeVector 81(float) 3
              83:   81(float) Constant 0
              84:   82(fvec3) ConstantComposite 83 83 83
              85:             TypeInt 32 1
              86:     85(int) Constant 2
              87:             TypeMatrix 82(fvec3) 3
              88:     85(int) Constant 3
              89:             TypePointer Function 82(fvec3)
              90:             TypeFunction 87
              91:             TypePointer Function 87
              92:     85(int) Constant 0
              93:             TypeInt 32 0
              94:     93(int) Constant 3
              95:     85(int) Constant 1
              96:             TypeVector 81(float) 4
              97:             TypeMatrix 96(fvec4) 4
              98:             TypePointer Uniform 97
    127(PerDraw):             TypeStruct 97 97 97 97 97 82(fvec3) 96(fvec4)
             128:             TypePointer Uniform 127(PerDraw)
129(PerDraw_var):    128(ptr) Variable Uniform
              99:             TypePointer Function 96(fvec4)
             100:             TypePointer Input 82(fvec3)
             101:             TypePointer Input 96(fvec4)
             102:             TypePointer Output 87
             103:   96(fvec4) ConstantComposite 83 83 83 83
             104:          87 ConstantComposite 84 84 84
105(PS_IN_meshNormal):    100(ptr) Variable Input
106(PS_IN_meshTangent):    101(ptr) Variable Input
107(PS_IN_ShadingPosition):    101(ptr) Variable Input
108(PS_OUT_tangentToWorld):    102(ptr) Variable Output
 109(PS_STREAMS):             TypeStruct 82(fvec3) 96(fvec4) 87 96(fvec4)
             110:             TypePointer Function 109(PS_STREAMS)
             111:109(PS_STREAMS) ConstantComposite 84 103 104 103
             121:             TypeFunction 87 110(ptr)
             123:             TypeFunction 79 110(ptr)
             125:             TypeFunction 79 110(ptr)
71(NormalBase_PSMain():          79 Function None 80
              72:             Label
   112(_streams):    110(ptr) Variable Function
                              Store 112(_streams) 111
             115:   82(fvec3) Load 105(PS_IN_meshNormal)
             116:     89(ptr) AccessChain 112(_streams) 92
                              Store 116 115
             117:   96(fvec4) Load 106(PS_IN_meshTangent)
             118:     99(ptr) AccessChain 112(_streams) 95
                              Store 118 117
             119:   96(fvec4) Load 107(PS_IN_ShadingPosition)
             120:     99(ptr) AccessChain 112(_streams) 88
                              Store 120 119
              73:          79 FunctionCall 2(NormalFromNormalMapping_GenerateNormal_PS() 112(_streams)
              74:          79 FunctionCall 77(ShaderBase_PSMain()
             113:     91(ptr) AccessChain 112(_streams) 86
             114:          87 Load 113
                              Store 108(PS_OUT_tangentToWorld) 114
                              Return
                              FunctionEnd
77(ShaderBase_PSMain():          79 Function None 80
              78:             Label
                              Return
                              FunctionEnd
2(NormalFromNormalMapping_GenerateNormal_PS():          79 Function None 125
   126(_streams):    110(ptr) FunctionParameter
               3:             Label
               4:          79 FunctionCall 75(NormalBase_GenerateNormal_PS()
               5:          79 FunctionCall 61(NormalStream_UpdateTangentToWorld() 126(_streams)
                              Return
                              FunctionEnd
61(NormalStream_UpdateTangentToWorld():          79 Function None 123
   124(_streams):    110(ptr) FunctionParameter
              62:             Label
63(tangentMatrix):     91(ptr) Variable Function
64(tangentWorldTransform):     91(ptr) Variable Function
              65:          87 FunctionCall 23(NormalStream_GetTangentMatrix() 124(_streams)
                              Store 63(tangentMatrix) 65
              66:          87 FunctionCall 6(NormalFromNormalMapping_GetTangentWorldTransform()
                              Store 64(tangentWorldTransform) 66
              67:          87 Load 64(tangentWorldTransform)
              68:          87 Load 63(tangentMatrix)
              69:          87 MatrixTimesMatrix 67 68
              70:     91(ptr) AccessChain 124(_streams) 86
                              Store 70 69
                              Return
                              FunctionEnd
6(NormalFromNormalMapping_GetTangentWorldTransform():          87 Function None 90
               7:             Label
               8:     98(ptr) AccessChain 129(PerDraw_var) 95
               9:          97 Load 8
              10:   81(float) CompositeExtract 9 0 0
              11:   81(float) CompositeExtract 9 0 1
              12:   81(float) CompositeExtract 9 0 2
              13:   81(float) CompositeExtract 9 1 0
              14:   81(float) CompositeExtract 9 1 1
              15:   81(float) CompositeExtract 9 1 2
              16:   81(float) CompositeExtract 9 2 0
              17:   81(float) CompositeExtract 9 2 1
              18:   81(float) CompositeExtract 9 2 2
              19:   82(fvec3) CompositeConstruct 10 11 12
              20:   82(fvec3) CompositeConstruct 13 14 15
              21:   82(fvec3) CompositeConstruct 16 17 18
              22:          87 CompositeConstruct 19 20 21
                              ReturnValue 22
                              FunctionEnd
23(NormalStream_GetTangentMatrix():          87 Function None 121
   122(_streams):    110(ptr) FunctionParameter
              24:             Label
     25(tangent):     89(ptr) Variable Function
   26(bitangent):     89(ptr) Variable Function
27(tangentMatrix):     91(ptr) Variable Function
              28:     89(ptr) AccessChain 122(_streams) 92
              29:   82(fvec3) Load 28
              30:   82(fvec3) ExtInst 1(GLSL.std.450) 69(Normalize) 29
              31:     89(ptr) AccessChain 122(_streams) 92
                              Store 31 30
              32:     99(ptr) AccessChain 122(_streams) 95
              33:   96(fvec4) Load 32
              34:   82(fvec3) VectorShuffle 33 33 0 1 2
              35:   82(fvec3) ExtInst 1(GLSL.std.450) 69(Normalize) 34
                              Store 25(tangent) 35
              36:     99(ptr) AccessChain 122(_streams) 95 94
              37:   81(float) Load 36
              38:     89(ptr) AccessChain 122(_streams) 92
              39:   82(fvec3) Load 38
              40:   82(fvec3) Load 25(tangent)
              41:   82(fvec3) ExtInst 1(GLSL.std.450) 68(Cross) 39 40
              42:   82(fvec3) VectorTimesScalar 41 37
                              Store 26(bitangent) 42
              43:   82(fvec3) Load 25(tangent)
              44:   82(fvec3) Load 26(bitangent)
              45:     89(ptr) AccessChain 122(_streams) 92
              46:   82(fvec3) Load 45
              47:   81(float) CompositeExtract 43 0
              48:   81(float) CompositeExtract 43 1
              49:   81(float) CompositeExtract 43 2
              50:   81(float) CompositeExtract 44 0
              51:   81(float) CompositeExtract 44 1
              52:   81(float) CompositeExtract 44 2
              53:   81(float) CompositeExtract 46 0
              54:   81(float) CompositeExtract 46 1
              55:   81(float) CompositeExtract 46 2
              56:   82(fvec3) CompositeConstruct 47 48 49
              57:   82(fvec3) CompositeConstruct 50 51 52
              58:   82(fvec3) CompositeConstruct 53 54 55
              59:          87 CompositeConstruct 56 57 58
                              Store 27(tangentMatrix) 59
              60:          87 Load 27(tangentMatrix)
                              ReturnValue 60
                              FunctionEnd
75(NormalBase_GenerateNormal_PS():          79 Function None 80
              76:             Label
                              Return
                              FunctionEnd
