shader ShaderSubBase
{
	float varSubBase;
	
	stage float Compute()
	{
		return varSubBase;
	}
};

shader ShaderBase: ShaderSubBase
{
	float varBase;
	
	stage override float Compute()
	{
		return varBase;
	}
};

shader ShaderMain: ShaderBase
{
	compose ShaderCompose comp1;
	compose ShaderCompose comp2;
	
	float varMain;
	
	stage override float Compute()
	{
		return varMain;
	}
	
    void VSMain()
    {
		float f = Compute();
		f += comp1.ComputeComp();
		f += comp2.ComputeComp();
    }
};

shader ShaderMainX: ShaderMain
{
	float varMainX;
	
	stage override float Compute()
	{
		return base.Compute() + varMainX;
	}
};


shader ShaderCompose: ShaderBase
{
	float varCompose;
	
	float ComputeComp()
	{
		return varCompose + Compute();
	}
};

shader ShaderComposeX1: ShaderCompose
{
	float varComposeX1;
	
	stage override float Compute()
	{
		return base.Compute() + varComposeX1;
	}
};

shader ShaderComposeX2: ShaderComposeX1
{
	float varComposeX2;
	
	stage override float Compute()
	{
		return base.Compute() + varComposeX2;
	}
};


shader ShaderComposeY1: ShaderCompose
{
	float varComposeY1;
	
	stage override float Compute()
	{
		return base.Compute() + varComposeY1;
	}
};

shader ShaderComposeY2: ShaderComposeY1
{
	float varComposeY2;
	
	stage override float Compute()
	{
		return base.Compute() + varComposeY2;
	}
};